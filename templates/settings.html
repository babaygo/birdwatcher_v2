{% extends "base.html" %}

{% block content %}
<h1 class="text-2xl font-bold mb-6 text-white">Paramètres</h1>

<div class="flex flex-col gap-4">

    <div class="bg-gray-800 border border-gray-700 rounded-2xl p-4 shadow-lg">
        <h2 class="text-base font-bold text-blue-400 uppercase tracking-wider mb-3">Système</h2>
        <div class="grid grid-cols-2 gap-4">
            <div>
                <p class="text-gray-500 text-base font-semibold">Température CPU</p>
                <p class="text-lg font-medium">{{ temp }}°C</p>
            </div>
            <div>
                <p class="text-gray-500 text-base font-semibold">Batterie</p>
                <p class="text-lg font-medium">{{ battery.percent }}% ({{ battery.voltage }}V {{ battery.current }}A {{
                    battery.power }}W)</p>
            </div>
            <div class="col-span-2">
                <div class="flex justify-between items-end mb-1">
                    <p class="text-gray-500 text-base font-semibold">Stockage</p>
                    <p class="text-gray-400 text-base">{{ disk.used_gb }}Go / {{ disk.total_gb }}Go</p>
                </div>

                <div class="w-full bg-gray-700 rounded-full h-1.5 overflow-hidden">
                    <div class="h-1.5 rounded-full transition-all duration-700 {% if disk.percent > 90 %}bg-red-500{% elif disk.percent > 70 %}bg-orange-500{% else %}bg-blue-500{% endif %}"
                        style="width: {{ disk.percent }}%">
                    </div>
                </div>

                <p class="text-base text-gray-600 mt-1 italic text-right">{{ disk.percent }}% utilisé</p>
            </div>
        </div>
    </div>

    <div class="bg-gray-800 border border-gray-700 rounded-2xl p-4 shadow-lg">
        <h2 class="text-base font-bold text-purple-400 uppercase tracking-wider mb-3">Vidéos</h2>
        <div class="space-y-4">
            <div>
                <label class="block text-xs text-gray-500 mb-1">Durée d'enregistrement d'une vidéo (en secondes)</label>
                <select
                    class="w-full bg-gray-900 border border-gray-600 rounded-lg p-2 text-white outline-none focus:border-purple-500">
                    <option value="30">30 secondes</option>
                    <option value="45">45 secondes</option>
                    <option value="60">60 secondes</option>
                    <option value="75">75 secondes</option>
                </select>
            </div>
            <div class="flex items-center justify-between">
                <div class="flex flex-col">
                    <span class="text-sm mb-2">Nettoyage automatique</span>
                    <span class="text-xs text-mute">Suppresion automatique des vidéos de plus 7 jours</span>
                </div>

                <button class="w-10 h-5 bg-purple-600 rounded-full relative">
                    <div class="absolute right-1 top-1 w-3 h-3 bg-white rounded-full"></div>
                </button>
            </div>
        </div>
    </div>

    <div class="bg-gray-800 border border-gray-700 rounded-2xl p-4 shadow-lg">
        <p class="text-xs text-gray-500 mb-4">Éteignez proprement la Raspberry avant de retirer la batterie Li-Po pour protéger vos fichiers.</p>
        <a href="/shutdown" onclick="return confirm('Confirmer l\'extinction ?')"
            class="block w-full bg-red-900 bg-opacity-30 border border-red-800 text-red-400 text-center py-3 rounded-xl font-semibold active:bg-red-800 active:text-white transition-all">
            Éteindre la Raspberry
        </a>
    </div>

</div>
{% endblock %}